/**
 * backtalk v0.0.0 build Sep 18 2015
 * https://github.com/vanruesc/backtalk
 * Copyright 2015 Raoul van Rueschen, Zlib
 */
!function(e){"use strict";function t(){var e=o.offsetWidth<o.offsetHeight?o.offsetWidth:o.offsetHeight;u.size=[e,e]}function n(){var t,n;try{t=parseInt(m.value),n=parseInt(c.value),--n,t>59&&(t=59),n>59&&(n=59),0>n&&0===t?(u.timeMeasure=e.TimeMeasure.MILLISECONDS,u.time=1):0===n&&0===t?(u.timeMeasure=e.TimeMeasure.SECONDS,u.time=1):(u.timeMeasure=e.TimeMeasure.MINUTES,u.time=t,u.timeMeasure=e.TimeMeasure.SECONDS,u.prolongBy(n+1)),u.rewind(),i(u)}catch(a){}}function i(e){var t,n,i=e.time;i>1&&(i+=1e3),t=i/6e4%60|0,n=i/1e3%60|0,m.value=10>t?"0"+t:t,c.value=10>n?"0"+n:n}function a(){m.disabled=!1,c.disabled=!1}function d(){var e=!m.disabled&&!c.disabled;return e&&(m.disabled=!0,c.disabled=!0),e}function s(){var e=E;if(4===this.readyState){try{E=parseInt(this.responseText)}catch(t){E=Number.NaN}"number"!=typeof E||isNaN(E)?clearInterval(l):E!==e&&(v.innerHTML=E,e=E)}}function r(){f.open("GET",window.location.href.replace(new RegExp("evaluation/"),"evaluation/vote-count?uid="),!0),f.timeout=M-1e3,f.send()}e="default"in e?e["default"]:e;var u,o,m,c,l,v,f,E,M=5e3;window.addEventListener("load",function p(){u=new e,o=document.getElementById("overtime"),c=document.getElementById("seconds"),m=document.getElementById("minutes"),v=document.getElementById("votes"),o&&m&&c&&v&&(t(),window.addEventListener("resize",t),o.appendChild(u.canvas),u.timeMeasure=e.TimeMeasure.MINUTES,u.time=30,u.timeMeasure=e.TimeMeasure.SECONDS,u.shortenBy(1),u.rewind(),i(u),u.addEventListener("update",i),u.addEventListener("elapsed",function(){a(),window.alert("Die Zeit ist um!")}),document.getElementById("stop").addEventListener("click",function(){u.stop(),a()}),document.getElementById("start").addEventListener("click",function(){d()&&n(),u.start()}),i(u),a(),void 0!==XMLHttpRequest&&(f=new XMLHttpRequest,f.addEventListener("readystatechange",s),f.addEventListener("timeout",function(){}),l=setInterval(r,M))),window.removeEventListener("load",p)})}(Overtime);